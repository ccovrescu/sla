{% extends '::base.html.twig' %}

{% block page %}
    <div class="row">
        <div class="col-lg-12">
            <h1>Sesizanti <small>Index</small></h1>
            <ol class="breadcrumb">
                <li><a href="{{ path('admin_index') }}"><i class="icon-dashboard"></i> Administrare</a></li>
                <li class="active"><i class="icon-file-alt"></i> Sesizanti</li>
            </ol>
        </div>
    </div><!-- /.row -->

    {{ form_start(form, {'attr': {'class':'breadcrumb'}}) }}

    <div class="row">
        <div class="col-lg-4">
            <div class="form-group">
                {{ form_label(form.branch) }}
                {{ form_widget(form.branch, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
        <div class="col-lg-4">
            <div class="form-group">
                {{ form_label(form.status) }}
                {{ form_widget(form.status, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
        <div class="col-lg-4">
            <div class="form-group text-right">
                <label>&nbsp;</label><br/>
                {{ form_widget(form.Arata, {'attr': {'class': 'btn btn-primary'}}) }}
            </div>
        </div>
    </div><!-- /.row -->

    {{ form_rest(form) }}
    {{ form_end(form) }}

    <div class="row">
        <div class="col-lg-8 text-left">
            <h2>Lista sesizanti</h2>
        </div>
        <div class="col-lg-4 text-right">
            <div class="panel-body">
                <button type="submit" class="btn btn-success" onclick="location.href='{{ path('tlt_admin_announcers_add') }}'">Adauga sesizant</button>
            </div>
        </div>
    </div><!-- /.row -->

    <div class="row">
        <div class="col-lg-12">
        <table id="announcers-table" class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Nume</th>
                    <th>Prenume</th>
                    <th>Compartiment</th>
                    <th>Deservit de Agentia/Centrul</th>
                    <th>Status</th>
                    <th>Optiuni</th>
                </tr>
            </thead>
            <tbody>
                {% if announcers %}
                    {% for announcer in announcers %}
                        <tr {{ announcer.active==0 ? 'class="danger"': '' }}>
                            <td>{{ announcer.lastName }}</td>
                            <td>{{ announcer.firstName }}</td>
                            <td>{{ announcer.compartment }}</td>
                            <td>{{ announcer.branch.name }}</td>
                            <td>{{ announcer.active==1 ? 'Activ' : 'Inactiv' }}</td>
                            <td><a href="{{ path('tlt_admin_announcers_edit', {'id' : announcer.id}) }}">modifica</a></td>
                        </tr>
                    {% endfor %}
                {% endif %}
            </tbody>
            <tfoot>
            <tr>
                <th colspan="6" class="text-center">Total {{ announcers|length }} sesizanti.</th>
            </tr>
            </tfoot>
        </table>
        </div>
    </div>

{% endblock  %}

{% block javascripts %}
    {{ parent() }}

    <script type="text/javascript">
        $(document).ready(function(){
            $('#announcers-table').DataTable({
                "columnDefs": [
                    { "width": "40%", "targets": 0 }
                ],
                "language": {
                    "sProcessing":   "Proceseaza...",
                        "sLengthMenu":   "Afiseaza _MENU_ inregistrari pe pagina",
                        "sZeroRecords":  "Nu am gasit nimic - ne pare rau",
                        "sInfo":         "Afisate de la _START_ la _END_ din _TOTAL_ inregistrari",
                        "sInfoEmpty":    "Afisate de la 0 la 0 din 0 inregistrari",
                        "sInfoFiltered": "(filtrate dintr-un total de _MAX_ inregistrari)",
                        "sInfoPostFix":  "",
                        "sSearch":       "Cauta:",
                        "sUrl":          "",
                        "oPaginate": {
                            "sFirst":    "Prima",
                            "sPrevious": "Precedenta",
                            "sNext":     "Urmatoarea",
                            "sLast":     "Ultima"
                        }
                }
            });
        });
    </script>
{% endblock %}